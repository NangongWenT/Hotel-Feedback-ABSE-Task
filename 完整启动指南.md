# 🚀 完整启动指南 - 解决 ERR_CONNECTION_REFUSED

## ✅ 代码检查结果

我已经全面检查了所有代码，**配置都是正确的**：

### ✅ 后端配置
- 运行在 `http://127.0.0.1:5000` ✅
- CORS 已配置，允许 `http://localhost:5173` ✅
- 数据库目录已创建 ✅

### ✅ 前端配置
- API 配置：`baseURL: '/api'` ✅
- Vite Proxy：转发到 `http://localhost:5000` ✅
- 端口：5173 ✅
- 所有路由和组件都存在 ✅

### ✅ 路径配置
- 所有相对路径正确 ✅
- 导入路径正确 ✅

## 🔧 问题原因

**前端服务器没有成功启动**，所以访问 http://localhost:5173 时显示 `ERR_CONNECTION_REFUSED`。

## 📝 解决步骤

### 步骤 1：新开一个 PowerShell 窗口

**重要：** 必须新开一个窗口，不要关闭后端窗口！

### 步骤 2：刷新环境变量

在新窗口中运行：

```powershell
$env:Path = [System.Environment]::GetEnvironmentVariable("Path","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("Path","User")
```

### 步骤 3：验证 Node.js

```powershell
node --version
npm --version
```

应该显示版本号（如 `v24.11.0` 和 `11.6.1`）

### 步骤 4：进入前端目录

```powershell
cd "C:\Users\32353\Desktop\大四上\NLP\CW\Hotel-Feedback-ABSA-Task-main\frontend"
```

### 步骤 5：启动前端服务器

```powershell
npm run dev
```

**期望输出：**
```
  VITE v5.x.x  ready in xxx ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
```

**如果看到这个输出，说明前端启动成功！** ✅

### 步骤 6：访问系统

1. 打开浏览器
2. 访问：**http://localhost:5173**
3. 应该能看到登录页面

## 🎯 快速启动（使用脚本）

如果你想使用我创建的脚本，可以：

```powershell
cd "C:\Users\32353\Desktop\大四上\NLP\CW\Hotel-Feedback-ABSA-Task-main"
.\启动前端.ps1
```

## ⚠️ 注意事项

1. **保持两个窗口都打开：**
   - 窗口 1：后端服务器（`python app.py`）
   - 窗口 2：前端服务器（`npm run dev`）

2. **如果前端启动失败：**
   - 查看错误信息
   - 确保 Node.js 已正确安装
   - 确保依赖已安装（`npm install`）

3. **如果端口被占用：**
   - 关闭占用端口的程序
   - 或修改 `frontend/vite.config.js` 中的端口

## 🔍 验证清单

启动成功后，检查：

- [ ] 后端运行在 http://localhost:5000
- [ ] 前端运行在 http://localhost:5173
- [ ] 浏览器能访问 http://localhost:5173
- [ ] 能看到登录页面
- [ ] 能使用 admin/admin123 登录

## 🎉 完成！

如果按照以上步骤操作，应该能够成功访问系统了！

如果还有问题，请告诉我具体的错误信息。

