# 问题解决指南

## ✅ 已解决的问题

### 1. 数据库目录不存在

**问题：** `sqlite3.OperationalError: unable to open database file`

**解决方案：** 已创建必要的目录：
- ✅ `data/` - 数据库目录
- ✅ `data/uploads/` - 文件上传目录
- ✅ `model/cache/` - 模型缓存目录

**验证：** 现在可以正常启动后端了。

---

## ⚠️ 待解决的问题

### 2. Node.js 未安装

**问题：** `npm : 无法将"npm"项识别为 cmdlet、函数、脚本文件或可运行程序的名称`

**原因：** 系统中未安装 Node.js，或者 Node.js 未添加到 PATH 环境变量。

**解决方案：**

#### 步骤 1：安装 Node.js

1. **下载 Node.js**
   - 访问：https://nodejs.org/zh-cn/download/
   - 选择 **LTS 版本**（长期支持版，推荐）
   - 下载 Windows 安装程序（.msi 文件）

2. **安装 Node.js**
   - 运行下载的安装程序
   - **重要：** 确保勾选 "Add to PATH" 选项
   - 一路点击"下一步"完成安装

3. **验证安装**
   
   安装完成后，**重启 PowerShell 窗口**，然后运行：
   ```powershell
   node --version
   npm --version
   ```
   
   如果显示版本号，说明安装成功。

#### 步骤 2：安装前端依赖

```powershell
# 进入前端目录
cd "C:\Users\32353\Desktop\大四上\NLP\CW\Hotel-Feedback-ABSA-Task-main\frontend"

# 安装依赖
npm install

# 启动前端开发服务器
npm run dev
```

---

## 🚀 完整启动流程

### 1. 启动后端（终端 1）

```powershell
cd "C:\Users\32353\Desktop\大四上\NLP\CW\Hotel-Feedback-ABSA-Task-main\backend"
.\venv\Scripts\python.exe app.py
```

**成功标志：**
```
✅ 检测到CUDA，将使用GPU: NVIDIA GeForce RTX 5060 Laptop GPU
 * Running on http://127.0.0.1:5000
```

### 2. 启动前端（终端 2，需要先安装 Node.js）

```powershell
cd "C:\Users\32353\Desktop\大四上\NLP\CW\Hotel-Feedback-ABSA-Task-main\frontend"
npm install  # 首次运行需要
npm run dev
```

**成功标志：**
```
  VITE v5.x.x  ready in xxx ms
  ➜  Local:   http://localhost:5173/
```

### 3. 访问系统

打开浏览器，访问：`http://localhost:5173`

使用默认管理员账户登录：
- 用户名：`admin`
- 密码：`admin123`

---

## 📝 快速检查清单

在启动前，确保：

- [x] Python 3.11 虚拟环境已创建
- [x] 后端依赖已安装（包括 CUDA 版本的 PyTorch）
- [x] 数据库目录已创建（`data/`）
- [x] 上传目录已创建（`data/uploads/`）
- [x] 模型缓存目录已创建（`model/cache/`）
- [ ] **Node.js 已安装**（待完成）
- [ ] 前端依赖已安装（安装 Node.js 后执行 `npm install`）

---

## 💡 提示

1. **GPU 警告**：启动时可能看到 CUDA capability 警告，这是正常的，GPU 加速仍然有效。

2. **PowerShell 执行策略**：如果不想修改执行策略，直接使用 `.\venv\Scripts\python.exe` 即可。

3. **端口占用**：如果 5000 或 5173 端口被占用，可以修改配置文件中的端口设置。

---

## 🎉 完成后的状态

安装完 Node.js 并启动前后端后，你应该能够：

- ✅ 访问前端界面（http://localhost:5173）
- ✅ 使用 GPU 加速进行情感分析
- ✅ 提交反馈并查看分析结果
- ✅ 使用管理员功能查看统计数据

享受使用吧！🚀

