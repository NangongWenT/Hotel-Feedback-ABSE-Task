# 🔧 问题解决 - 完整版

## 🔍 问题分析

### 问题 1：PowerShell 执行策略阻止 npm
**错误：** `无法加载文件 C:\Program Files\nodejs\npm.ps1，因为在此系统上禁止运行脚本`

**原因：** PowerShell 执行策略阻止运行脚本文件

### 问题 2：访问 http://localhost:5000/ 显示"未找到"
**原因：** 后端是纯 API 服务器，没有根路由 `/`，只有 API 路由（如 `/api/health`）

## ✅ 解决方案

### 解决 PowerShell 执行策略问题

**方法 1：使用 npm.cmd（推荐，最简单）**

直接使用 `npm.cmd` 而不是 `npm`：

```powershell
cd "C:\Users\32353\Desktop\大四上\NLP\CW\Hotel-Feedback-ABSA-Task-main\frontend"
npm.cmd run dev
```

**方法 2：使用启动脚本**

运行我创建的脚本：

```powershell
cd "C:\Users\32353\Desktop\大四上\NLP\CW\Hotel-Feedback-ABSA-Task-main"
.\启动前端-解决执行策略.ps1
```

**方法 3：使用 CMD 而不是 PowerShell**

打开 **命令提示符（CMD）** 而不是 PowerShell：

```cmd
cd "C:\Users\32353\Desktop\大四上\NLP\CW\Hotel-Feedback-ABSA-Task-main\frontend"
npm run dev
```

### 关于后端路由

**后端是 API 服务器，正确的访问方式：**

1. **健康检查：** http://localhost:5000/api/health
2. **API 根信息：** http://localhost:5000/ （已添加）
3. **前端应该访问：** http://localhost:5173 （通过 Vite proxy 转发到后端）

**注意：** 我已经添加了根路由 `/`，现在访问 http://localhost:5000/ 会显示 API 信息。

## 🚀 完整启动流程

### 终端 1：后端（已启动 ✅）

后端已经在运行，显示：
```
✅ 检测到CUDA，将使用GPU: NVIDIA GeForce RTX 5060 Laptop GPU
 * Running on http://127.0.0.1:5000
```

**保持这个窗口打开！**

### 终端 2：前端（需要启动）

**新开一个 PowerShell 窗口**，然后：

**选项 A：使用 npm.cmd（推荐）**
```powershell
# 刷新环境变量
$env:Path = [System.Environment]::GetEnvironmentVariable("Path","Machine") + ";" + [System.Environment]::GetEnvironmentVariable("Path","User")

# 进入前端目录
cd "C:\Users\32353\Desktop\大四上\NLP\CW\Hotel-Feedback-ABSA-Task-main\frontend"

# 使用 npm.cmd 启动
npm.cmd run dev
```

**选项 B：使用启动脚本**
```powershell
cd "C:\Users\32353\Desktop\大四上\NLP\CW\Hotel-Feedback-ABSA-Task-main"
.\启动前端-解决执行策略.ps1
```

**选项 C：使用 CMD**
打开 **命令提示符（CMD）**，然后：
```cmd
cd "C:\Users\32353\Desktop\大四上\NLP\CW\Hotel-Feedback-ABSA-Task-main\frontend"
npm run dev
```

**期望输出：**
```
  VITE v5.x.x  ready in xxx ms

  ➜  Local:   http://localhost:5173/
  ➜  Network: use --host to expose
```

## 🌐 访问系统

### 正确的访问方式

1. **前端界面：** http://localhost:5173 ✅
   - 这是用户界面，应该访问这个地址

2. **后端 API：** http://localhost:5000/api/health ✅
   - 用于测试后端是否运行

3. **后端根路由：** http://localhost:5000/ ✅
   - 现在会显示 API 信息（已添加）

### 登录系统

访问 http://localhost:5173 后：
- 用户名：`admin`
- 密码：`admin123`

## 📋 验证清单

- [ ] 后端运行在 http://localhost:5000
- [ ] 前端运行在 http://localhost:5173
- [ ] 浏览器能访问 http://localhost:5173
- [ ] 能看到登录页面
- [ ] 能使用 admin/admin123 登录

## ⚠️ 重要提示

1. **使用 `npm.cmd` 而不是 `npm`** 可以避免执行策略问题
2. **前端应该访问 http://localhost:5173**，不是 http://localhost:5000
3. **保持两个窗口都打开**（后端和前端）

## 🎉 完成！

按照以上步骤操作，应该能够成功访问系统了！

如果还有问题，请告诉我具体的错误信息。

